(function(b,f){function u(b){if(b)return b.replace(/^\s+|\s+$/g,"")}function p(d,t){if(!d)return{};var c="INFO"===t.logLevel;d.m&&d.m.message&&(d=d.m);var g=t.m||t.message||"";g=d.m&&d.m.message?g+d.m.message:d.m&&d.m.target&&d.m.target.tagName?g+("Error handler invoked by "+d.m.target.tagName+" tag"):d.m?g+d.m:d.message?g+d.message:g+"Unknown error";g={m:g,name:d.name,type:d.type,csm:H+" "+(d.fromOnError?"onerror":"ueLogError")};var h,k=0;g.logLevel=t.logLevel||A;t.adb&&(g.adb=t.adb);if(h=t.attribution)g.attribution=
""+h;if(!c){g.pageURL=t.pageURL||""+(window.location?window.location.href:"")||"missing";g.f=d.f||d.sourceURL||d.fileName||d.filename||d.m&&d.m.target&&d.m.target.src;g.l=d.l||d.line||d.lineno||d.lineNumber;g.c=d.c?""+d.c:d.c;g.s=[];g.t=b.ue.d();if((c=d.stack||(d.err?d.err.stack:""))&&c.split)for(g.csm+=" stack",h=c.split("\n");k<h.length&&g.s.length<x;)(c=h[k++])&&g.s.push(u(c));else{g.csm+=" callee";var f=B(d.args||arguments,"callee");for(h=k=0;f&&k<x;){var r=m;f.skipTrace||(c=f.toString())&&c.substr&&
(r=0===h?4*m:r,r=1==h?2*m:r,g.s.push(c.substr(0,r)),h++);f=B(f,"caller");k++}}if(!g.f&&0<g.s.length&&(k=g)&&k.s){var l;c=0<k.s.length?k.s[0]:"";h=1<k.s.length?k.s[1]:"";c&&(l=c.match(w));l&&3==l.length||!h||(l=h.match(D));l&&3==l.length&&(k.f=l[1],k.l=l[2])}}return g}function B(b,f){try{return b[f]}catch(c){}}function l(d,m){if(d){for(var c=p(d,m),g=(window.ue_err?window.ue_err.errorHandlers:null)||[],h=0;h<g.length;h++)"function"==typeof g[h].handler&&g[h].handler(c);b.ue.log(c,m.channel||r,{nb:1});
"function"===typeof ue_err.elh&&ue_err.elh(d,m);try{if(!d.fromOnError){var k=f.console,t=f.JSON;g="Error logged with the Track\x26Report JS errors API(http://tiny/1covqr6l8/wamazindeClieUserJava): ";if(k){if(t&&t.stringify)try{g+=t.stringify(c)}catch(O){g+="no info provided; converting to string failed"}else g+=c.m;"function"===typeof k.error?k.error(g,c):"function"===typeof k.log&&k.log(g,c)}}}catch(O){}}}function y(d,f){if(d&&!(b.ue_err.ec>b.ue_err.mxe)){b.ue_err.ter.push(d);f=f||{};var c=d.logLevel||
f.logLevel;f.logLevel=c;f.attribution=d.attribution||f.attribution;c&&c!==A&&c!==F&&c!==C&&c!==E||b.ue_err.ec++;c&&c!=A||ue_err.ecf++;l(d,f)}}if(b.ue_err&&(!b.ueLogError||b.ueLogError.isStub)){var r=b.ue_err_chan||"jserr",A="FATAL",F="ERROR",C="WARN",E="DOWNGRADED",H="v5",x=20,m=256,D=/\(?([^\s]*):(\d+):\d+\)?/,w=/.*@(.*):(\d*)/;l.skipTrace=1;p.skipTrace=1;y.skipTrace=1;(function(){if(b.ue_err.erl){var d=b.ue_err.erl.length,f;for(f=0;f<d;f++){var c=b.ue_err.erl[f];l(c.ex,c.info)}ue_err.erl=[]}})();
b.ueLogError=y}})(ue_csm,window);
(function(b,f){function u(a){for(var n={},e,z,q=0;q<a.length;q++)z=a[q],z.r=z.r||c.rid,z.s=z.s||b.ue_sid,e=z.r+z.s+z.m,z.c&&(n[e]||(n[e]=[]),n[e].push(a[q]));return n}function p(a){for(var n=1;n<arguments.length;n++){var e=arguments[n];try{if(e.isSupported)return e.send(a)}catch(z){}}}function B(){if(h.length&&!c.paused){for(var a=0;a<v.length;a++)v[a]();c._flhs+=1;l();p(u(h.splice(0,h.length)),G,J,K)}I=N=0}function l(){m&&y({k:"chk",f:c._flhs,l:c._lpn,s:"full"},"csm")}function y(a,n,e){e=e||{};!b.ue_furl||
0===e.bf&&c.isBF||(a={r:e.r||(c.paused?void 0:c.rid),s:e.s||(c.paused?void 0:b.ue_sid),m:e.m||b.ue_mid,mkt:e.mkt||b.ue_mkt,sn:e.sn||b.ue_sn,c:n,d:a,t:e.t||c.d(),cs:e.c&&b.ue_qsl},c._lpn[n]=(c._lpn[n]||0)+1,e.b?p(u([a]),G,K):e.nb?p(u([a]),G,J,K):e.img||P[n]?p(u([a]),K):e.ff?(h.push(a),B()):e.n?(h.push(a),0===L?B():I||(I=f.setTimeout(B,L))):(h.push(a),N||(N=f.setTimeout(B,Q))))}function r(a,n,e){M++;M==x&&y({m:"Max number of Forester Logs exceeded",f:"forester-client.js",logLevel:"ERROR"},f.ue_err_chan||
"jserr");(M<x||e&&e.il)&&y(a,n,e)}function A(){if(!O){for(var a=0;a<k.length;a++)k[a]();for(a=0;a<v.length;a++)v[a]();c._flhs+=1;l();p(u(h.splice(0,h.length)),G,K);O=!0}}function F(a){var n=d(a);a.reqs&&(n={csmcount:{counter:D,t:0,value:n.length}},n.csmcount.value+=d(n).length,a.reqs.push(n),n=d(a));return n}var C={};(function(){function a(a){return 10>a?"0"+a:a}function n(a){c.lastIndex=0;return c.test(a)?'"'+a.replace(c,function(a){var e=d[a];return"string"===typeof e?e:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+
'"':'"'+a+'"'}function e(a,c){var d,z=b,q=c[a];q&&"object"===typeof q&&"function"===typeof q.toJSON&&(q=q.toJSON(a));"function"===typeof h&&(q=h.call(c,a,q));switch(typeof q){case "string":return n(q);case "number":return isFinite(q)?String(q):"null";case "boolean":case "null":return String(q);case "object":if(!q)return"null";b+=g;var f=[];if("[object Array]"===Object.prototype.toString.apply(q)){c=q.length;for(a=0;a<c;a+=1)f[a]=e(a,q)||"null";var k=0===f.length?"[]":b?"[\n"+b+f.join(",\n"+b)+"\n"+
z+"]":"["+f.join(",")+"]";b=z;return k}if(h&&"object"===typeof h)for(c=h.length,a=0;a<c;a+=1)"string"===typeof h[a]&&(d=h[a],(k=e(d,q))&&f.push(n(d)+(b?": ":":")+k));else for(d in q)Object.prototype.hasOwnProperty.call(q,d)&&(k=e(d,q))&&f.push(n(d)+(b?": ":":")+k);k=0===f.length?"{}":b?"{\n"+b+f.join(",\n"+b)+"\n"+z+"}":"{"+f.join(",")+"}";b=z;return k}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+
1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(a){return this.valueOf()});var c=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,b,g,d={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},h;"function"!==typeof C.stringify&&(C.stringify=function(a,
c,n){var q;g=b="";if("number"===typeof n)for(q=0;q<n;q+=1)g+=" ";else"string"===typeof n&&(g=n);if((h=c)&&"function"!==typeof c&&("object"!==typeof c||"number"!==typeof c.length))throw Error("JSON.stringify");return e("",{"":a})})})();var E=function(){function a(c,e){if(null==c)return e.push("!n");if("number"===typeof c)return e.push("!"+c);if("string"===typeof c)return"\\"==c[c.length-1]?e.push("'"+c.replace(/'/g,"\\'")+"u005C'"):e.push("'"+c.replace(/'/g,"\\'")+"'");if("boolean"===typeof c)return e.push(c?
"!t":"!f");if(c instanceof Array){e.push("*");for(var b=0;b<c.length;b++)a(c[b],e);return e.push(")")}if("object"==typeof c){e.push("(");for(b in c)c.hasOwnProperty(b)&&(e.push(b),a(c[b],e));return e.push(")")}return e.push("!n")}return{stringify:function(c){var e=[];a(c,e);return e.join("")}}}(),H=b.ue_qsl||2E3,x=2E3,m=1===window.ue_ddq,D="foresterPayloadSize",w=function(){},d=f.JSON&&f.JSON.stringify||C&&C.stringify,t=E.stringify,c=b.ue||{};E=b.uet||w;(b.uet||w)("bb","ue_frst_v2",{wb:1});var g=
"//"+b.ue_furl+"/1/batch/1/OE/",h=[],k=[],v=[],O=!1,I,N,L=void 0===b.ue_hpfi?1E3:b.ue_hpfi,Q=void 0===b.ue_lpfi?1E4:b.ue_lpfi,P={"scheduled-delivery":1},M=0,J=function(){function a(){if(f.XDomainRequest){var a=new XDomainRequest;a.onerror=w;a.ontimeout=w;a.onprogress=w;a.onload=w;a.timeout=0;return a}if(f.XMLHttpRequest){a=new XMLHttpRequest;if(!("withCredentials"in a))throw"";return a}if(f.ActiveXObject){for(var c=0;c<d.length&&!a;c++)try{a=new ActiveXObject(d[c]),d=[d[c]]}catch(R){}return a}}function n(a){for(var e=
[],d=a[0]||{},n=0;n<a.length;n++){var g={};g[a[n].c]=a[n].d;e.push(g)}return{rid:d.r||c.rid,sid:d.s||b.ue_sid,mid:d.m||b.ue_mid,mkt:d.mkt||b.ue_mkt,sn:d.sn||b.ue_sn,reqs:e}}function e(c){var e=n(c),b=a();if(!b)throw"";b.onerror=function(){for(var a=0;a<c.length;a++)h.push(c[a]);J.isSupported=!1};b.open("POST",g,!0);b.setRequestHeader&&b.setRequestHeader("Content-type","text/plain");e=F(e);b.send(e)}var d="MSXML2.XMLHTTP.6.0 MSXML2.XMLHTTP.5.0 MSXML2.XMLHTTP.4.0 MSXML2.XMLHTTP.3.0 MSXML2.XMLHTTP Microsoft.XMLHTTP".split(" ");
return{send:function(a){for(var c in a)a.hasOwnProperty(c)&&a[c].length&&e(a[c])},buildPOSTBodyLog:n,isSupported:!0}}(),K=function(){return{send:function(a){for(var n in a)if(a.hasOwnProperty(n)){for(var e=a[n],h=e,f={},k,m=0;m<h.length;m++)k=h[m].c,f[k]||(f[k]=[]),f[k].push(h[m]);e=e[0]||{};h=e.sn||b.ue_sn;e=g+(e.m||b.ue_mid)+":"+(e.s||b.ue_sid)+":"+(e.r||c.rid)+(h?":"+h:"");h=[];k=e;m=[];var r=void 0;for(r in f)if(f.hasOwnProperty(r))for(var l=0;l<f[r].length;l++){var v=f[r][l],p=encodeURIComponent((v.cs?
t:d)(v.d));m.push({l:p,t:v.t,p:1,c:r,d:v.cs?"c":"j"})}f=m;m=void 0;r="$";for(v=0;v<f.length;){l=f[v];m!=l.c?(k+=r+l.c+"\x3d",r="\x26",m=l.c):k+=",";p=k;var u=l.d+":",y=l;k=(y.l.match(".{1,"+(H-k.length)+"}[^%]{0,2}")||[])[0]||"";y.l=y.l.substr(k.length);k=p+(u+k+":"+l.t);if(l.l)k+=":"+l.p++ +"_",h.push(k),k=e,r="$",m=0;else if(v++,1!=l.p)for(k+=":"+l.p+"_"+l.p,p=0;p<l.p-1;p++)h[h.length-p-1]+=l.p}h.push(k);e=h;for(h=0;h<e.length;h++)(new Image).src=e[h]}},isSupported:!0}}(),G=function(){return{send:function(a){for(var c in a)if(a.hasOwnProperty(c)){var e=
J.buildPOSTBodyLog(a[c]);e=F(e);if(!navigator.sendBeacon(g,e))throw"";}},isSupported:!!navigator.sendBeacon}}();c._fic=K;c._fac=J;c._fbc=G;c._flq=h;c.sid=c.sid||b.ue_sid;c.mid=c.mid||b.ue_mid;c.furl=c.furl||b.ue_furl;c.sn=c.sn||b.ue_sn;c._flhs=c._flhs||0;c._lpn=c._lpn||{};try{f.amznJQ&&f.amznJQ.declareAvailable&&f.amznJQ.declareAvailable("forester-client"),f.P&&f.P.register&&f.P.register("forester-client",w)}catch(a){b.ueLogError(a,{logLevel:"WARN"})}(function(){c.log&&c.log.isStub&&(c.log.replay(function(a,
c,e){var b=a[2]||{};b.t=c;b.r=e;b.n=1;r(a[0],a[1],b)}),c.onunload.replay(function(a){k.push(a[0])}),c.onflush.replay(function(a){v.push(a[0])}))})();c.log=r;c.log.reset=function(){M=0};c.onunload=function(a){k.push(a)};c.onflush=function(a){v.push(a)};c.attach("beforeunload",A);c.attach("pagehide",A);E("ld","ue_frst_v2",{wb:1})})(ue_csm,window);
(function(b){function f(b,d,f){f=f||{};!d||0===f.bf&&g.isBF||(w||g.log(),f={},f[d]=b,m=[],w=1,b=c(f,p),d=E[b],d||(d=E[b]=H++,x.push(b)),b=d,D[b]=D[b]?D[b]+m.join(""):m.join(""))}function u(c){var b=A[c];b||(b=A[c]=F++,C.push(c));return b}function p(c,b){return null===b?(m.push("!n"),t):"number"===typeof b?(isNaN(b)||Infinity===b?m.push("!n"):0===b?m.push("/"):m.push("_"+b.toString(32)),t):"string"===typeof b?(m.push("~"+u(b).toString(32)),t):"boolean"===typeof b?(m.push(b?"!t":"!f"),t):b}function B(c,
b){for(var d={},f=0;f<b.length;f++)d[b[f]]=c[b[f]];return d}function l(){w&&(0<C.length&&g.log({k:"cl_dct",v:B(A,C.splice(0))},"csm",{t:d++}),0<x.length&&g.log({k:"cl_tmpl",v:B(E,x.splice(0))},"csm",{t:d++}),g.log({k:"cl_logs",v:D},"csm",{t:d++}),D={},w=0)}function y(){A={};F=1;C=[];E={};H=1;x=[]}function r(){g.clog&&g.clog.isStub&&g.clog.replay(function(b){f(b[0],b[1],b[2])})}if(1==b.ueinit&&(!b.ue.clog||b.ue.clog.isStub)){var A={},F=1,C=[],E={},H=1,x=[],m=[],D={},w=0,d=0,t="{{}}",c=JSON.stringify,
g=b.ue;r();g.clog=f;g.clog._flush=l;g.clog._reset=y;g.onflush(l)}})(ue_csm);
ue_csm.ue.exec(function(b,f){var u=function(){},p=function(){return{send:function(b,p){if(p&&b){if(f.XDomainRequest){var l=new XDomainRequest;l.onerror=u;l.ontimeout=u;l.onprogress=u;l.onload=u;l.timeout=0}else if(f.XMLHttpRequest){if(l=new XMLHttpRequest,!("withCredentials"in l))throw"";}else l=void 0;if(!l)throw"";l.open("POST",b,!0);l.setRequestHeader&&l.setRequestHeader("Content-type","text/plain");l.send(p)}},isSupported:!0}}(),B=function(){return{send:function(f,p){if(f&&p)if(navigator.sendBeacon(f,
p))b.ue_sbuimp&&b.ue&&b.ue.ssw&&b.ue.ssw("eelsts","scs");else throw"";},isSupported:!!navigator.sendBeacon&&!(f.cordova&&f.cordova.platformId&&"ios"==f.cordova.platformId)}}();b.ue._ajx=p;b.ue._sBcn=B},"Transportation-clients")(ue_csm,window);
ue_csm.ue.exec(function(b,f){function u(){for(var a=0;a<arguments.length;a++){var b=arguments[a];try{if(b.isSupported){var e=G.buildPayload(h,c);var g=b.send(d,e)}else throw dummyException;return g}catch(q){}}D({m:"All supported clients failed",attribution:"CSMSushiClient_TRANSPORTATION_FAIL",f:"sushi-client.js",logLevel:"ERROR"},f.ue_err_chan||"jserr")}function p(){if(c.length){for(var a=0;a<L.length;a++)L[a]();u(m._sBcn||{},m._ajx||{});c=[];g={};h={};P=M=k=v=0}}function B(){var a=new Date,b=function(a){return 10>
a?"0"+a:a};return Date.prototype.toISOString?a.toISOString():a.getUTCFullYear()+"-"+b(a.getUTCMonth()+1)+"-"+b(a.getUTCDate())+"T"+b(a.getUTCHours())+":"+b(a.getUTCMinutes())+":"+b(a.getUTCSeconds())+"."+String((a.getUTCMilliseconds()/1E3).toFixed(3)).slice(2,5)+"Z"}function l(a){try{return JSON.stringify(a)}catch(n){}return null}function y(a,d,e,g){var h=!1;g=g||{};I++;I==C&&D({m:"Max number of Sushi Logs exceeded",f:"sushi-client.js",logLevel:"ERROR",attribution:"CSMSushiClient_MAX_CALLS"},f.ue_err_chan||
"jserr");var n;if(n=!(I>=C))(n=a&&-1<a.constructor.toString().indexOf("Object")&&d&&-1<d.constructor.toString().indexOf("String")&&e&&-1<e.constructor.toString().indexOf("String"))||O++;n&&(m.count&&m.count("Event:"+e,1),a.producerId=a.producerId||d,a.schemaId=a.schemaId||e,a.timestamp=B(),d=Date.now?Date.now():+new Date,e=Math.random().toString().substring(2,12),a.messageId=b.ue_id+"-"+d+"-"+e,g&&!g.ssd&&(a.sessionId=a.sessionId||b.ue_sid,a.requestId=a.requestId||b.ue_id,a.obfuscatedMarketplaceId=
a.obfuscatedMarketplaceId||b.ue_mid),(d=l(a))?(d=d.length,(c.length==E||k+d>H)&&p(),k+=d,a={data:G.compressEvent(a)},c.push(a),(g||{}).n?0===J?p():P||(P=f.setTimeout(p,J)):M||(M=f.setTimeout(p,K)),h=!0):h=!1);!h&&b.ue_int&&console.error("Invalid JS Nexus API call");return h}function r(){if(!Q){for(var a=0;a<N.length;a++)N[a]();for(a=0;a<L.length;a++)L[a]();c.length&&(b.ue_sbuimp&&b.ue&&b.ue.ssw&&(a=l({dct:h,evt:c}),b.ue.ssw("eeldata",a),b.ue.ssw("eelsts","unk")),u(m._sBcn||{}));Q=!0}}function A(a){N.push(a)}
function F(a){L.push(a)}var C=1E3,E=499,H=524288,x=function(){},m=b.ue||{},D=m.log||x,w=b.uex||x;(b.uet||x)("bb","ue_sushi_v1",{wb:1});var d=b.ue_surl||"https://unagi-na.amazon.com/1/events/com.amazon.csm.nexusclient.gamma",t=["messageId","timestamp"],c=[],g={},h={},k=0,v=0,O=0,I=0,N=[],L=[],Q=!1,P,M,J=void 0===b.ue_hpsi?1E3:b.ue_hpsi,K=void 0===b.ue_lpsi?1E4:b.ue_lpsi,G=function(){function a(a){g[a]="#"+v++;h[g[a]]=a;return g[a]}function b(c){if(!(c instanceof Function)){if(c instanceof Array){for(var d=
[],e=c.length,f=0;f<e;f++)d[f]=b(c[f]);return d}if(c instanceof Object){d={};for(e in c)c.hasOwnProperty(e)&&(d[g[e]?g[e]:a(e)]=-1===t.indexOf(e)?b(c[e]):c[e]);return d}return"string"===typeof c&&(c.length>("#"+v).length||"#"===c.charAt(0))?g[c]?g[c]:a(c):c}}return{compressEvent:b,buildPayload:function(){return l({cs:{dct:h},events:c})}}}();(function(){if(m.event&&m.event.isStub){if(b.ue_sbuimp&&b.ue&&b.ue.ssw){var a=b.ue.ssw("eelsts").val;if(a&&"unk"===a&&(a=b.ue.ssw("eeldata").val)){a:{try{var d=
JSON.parse(a);break a}catch(e){}d=null}d&&d.evt instanceof Array&&d.dct instanceof Object&&(c=d.evt,h=d.dct,c&&h&&(p(),b.ue.ssw("eeldata","{}"),b.ue.ssw("eelsts","scs")))}}m.event.replay(function(a){a[3]=a[3]||{};a[3].n=1;y.apply(this,a)});m.onSushiUnload.replay(function(a){A(a[0])});m.onSushiFlush.replay(function(a){F(a[0])})}})();m.attach("beforeunload",r);m.attach("pagehide",r);m._cmps=G;m.event=y;m.event.reset=function(){I=0};m.onSushiUnload=A;m.onSushiFlush=F;try{f.P&&f.P.register&&f.P.register("sushi-client",
x)}catch(a){b.ueLogError(a,{logLevel:"WARN"})}w("ld","ue_sushi_v1",{wb:1})},"Nxs-JS-Client")(ue_csm,window);